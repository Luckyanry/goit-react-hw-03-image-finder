(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports=a(76)},28:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a.n(o),l=(a(28),a(20)),s=a(9),u=a(3),i=a.n(u),m=a(4),g=a(5),d=a(6),h=a(8),p=a(7),f=(a(30),function(e){var t=e.query,a=e.addQuery,r=e.getImages;return n.a.createElement("header",{className:"Searchbar"},n.a.createElement("form",{className:"SearchForm",onSubmit:r,"data-action":"search"},n.a.createElement("button",{type:"submit",className:"SearchForm-button"},n.a.createElement("span",{className:"SearchForm-button-label"},"Search")),n.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query",value:t,onChange:a})))}),y=a(21),v=a.n(y),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return w("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=").concat(a,"&"))},w=function(e){return"".concat(e,"key=").concat("17099288-437936b9b4e8db26f206878a3")},E=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:null,e.next=3,v.a[t](a,r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=(a(48),a(49),function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,o=e.showModal;return n.a.createElement("li",{className:"ImageGalleryItem",onClick:function(){o(a,r)}},n.a.createElement("img",{src:t,alt:r,className:"ImageGalleryItem-image"}))}),S=(a(50),function(e){var t=e.requestOnBtn;return n.a.createElement("div",{className:"LoadeMoreBtn"},n.a.createElement("button",{className:"Button",type:"button",onClick:t,"data-action":"loadMore"},"Load more"))}),I=function(e){var t=e.gallery,a=e.showModal,r=e.loadImages;return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e,{showModal:a}))}))),t.length>0&&n.a.createElement(S,{requestOnBtn:r}))},k=a(22),j=a.n(k),M=(a(72),a(73),function(){return n.a.createElement(j.a,{className:"Loader",type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})}),N=(a(74),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleClickOnOverlay=function(t){"DIV"===t.target.nodeName&&e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.largeImageURL,a=e.tags;return n.a.createElement("div",{className:"Overlay",onClick:this.handleClickOnOverlay},n.a.createElement("div",{className:"Modal"},n.a.createElement("img",{src:t,alt:a})))}}]),a}(r.Component)),C=(a(75),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={gallery:[],query:"",loader:!1,error:!1,message:"",currentPage:1,perPage:12,showModal:!1,tags:"",largeImageURL:""},e.refreshSearchQuery=Object(m.a)(i.a.mark((function t(){var a,r,n,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.apply(void 0,o),t.prev=1,e.loaderToggle(!0),t.next=5,E("get",a);case 5:return r=t.sent,e.errorToggle(!1),t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(1),e.errorToggle(!0),n=t.t0.message,t.abrupt("return",n);case 15:return t.prev=15,e.loaderToggle(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,10,15,18]])}))),e.getImages=function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state.query,t.next=4,e.refreshSearchQuery(r);case 4:"String"!==(n=t.sent).constructor.name?e.setState({gallery:Object(s.a)(n.hits),currentPage:2}):e.setState({message:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadImages=Object(m.a)(i.a.mark((function t(){var a,r,n,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.query,n=a.currentPage,o=a.perPage,t.next=3,e.refreshSearchQuery(r,n,o);case 3:c=t.sent,e.scrollPage(),"String"!==c.constructor.name?e.setState((function(e){return{gallery:[].concat(Object(s.a)(e.gallery),Object(s.a)(c.hits)),currentPage:e.currentPage+1}})):e.setState({message:c});case 6:case"end":return t.stop()}}),t)}))),e.addQuery=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(l.a)({},r,n))},e.loaderToggle=function(t){e.setState({loader:t})},e.errorToggle=function(t){e.setState({error:t})},e.toggleModal=function(t,a){e.setState((function(e){return{showModal:!e.showModal,largeImageURL:t,tags:a}}))},e.scrollPage=function(){var e=document.documentElement.offsetHeight-150;setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}),100)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loader,a=e.error,r=e.message,o=e.showModal,c=e.gallery,l=e.query,s=e.largeImageURL,u=e.tags;return n.a.createElement("div",{className:"App"},n.a.createElement(f,{addQuery:this.addQuery,query:l,getImages:this.getImages}),t?n.a.createElement(M,null):n.a.createElement(I,{gallery:c,loadImages:this.loadImages,showModal:this.toggleModal}),a&&n.a.createElement("h2",{className:"error"},"Whoops, something went wrong: ",r),o&&n.a.createElement(N,{onClose:this.toggleModal,largeImageURL:s,tags:u}))}}]),a}(r.Component));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c4f37fc8.chunk.js.map